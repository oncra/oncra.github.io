<!DOCTYPE html>
<html lang="en" class="sr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  
  <title>ONCRA - above ground biomass removal app</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="container">
    <div id="header">
      <a href="https://oncra.org/" target="_blank">
        <img src="assets/cropped-oncra-logo.png" alt="oncra logo">
      </a>
    </div>

    <h1>Above Ground Carbon <br>Data Tool</h1>

    <div id="kmlRequirementText">
      Create a <strong>.kml file</strong> containing <strong>just 1 polygon</strong>. 
      <a id="exampleKMLFileButton" href="assets/example_kml_file.kml" download="example_kml_file.kml">example .kml file</a>
    </div>

    <div id="dropZoneInstructionText">
      Then upload the <strong>.kml file</strong> below, to get the above ground carbon data within the polygon region.
    </div>

    <div
      id="dropZone"
      ondrop="dropHandler(event)"
      ondragover="dragOverHandler(event)"
      ondragleave="dragLeaveHandler(event)">
      <div id="dropZoneTextContainer">
        <div id="dropZoneText_main">
          <strong>
            Drop .kml file here
          </strong> 
        </div>
        <div id="dropZoneText_or">
          or
        </div>
        <div id="kmlBrowseFileButton" onclick="document.getElementById('kmlInput').click()">Browse file</div>
        <input id="kmlInput" type="file" accept=".kml" style="display: none" onchange="onKMLChange(event)"/>
      </div>
    </div>
    <div id="dropZoneError"></div>
    
    <div id="kmlFileName"></div>
    <canvas id="kmlCanvas" width="600" height="100"></canvas>
    
    <div id="apiButton" class="button"  style="display: none;" onclick="callCedaEndpoints()">Call CEDA Endpoint</div>

    <div id="viewer"></div>

    <h2>Colour Scale</h2>
    <canvas id="colourScaleCanvas" class="agbCanvas" width="600" height="20"></canvas>
    <div id="agbValueContainer">
      <div id="agbMinValue">0</div>
      <div id="agbMaxValue">to be determined</div>
    </div>
    
    <br>
    <h2>2010</h2>
    <canvas id="agbCanvas_2010" class="agbCanvas" width="600" height="400"></canvas>

    <h2>2017</h2>
    <canvas id="agbCanvas_2017" class="agbCanvas" width="600" height="400"></canvas>

    <h2>2018</h2>
    <canvas id="agbCanvas_2018" class="agbCanvas" width="600" height="400"></canvas>

    <h2>2019</h2>
    <canvas id="agbCanvas_2019" class="agbCanvas" width="600" height="400"></canvas>

    <h2>2020</h2>
    <canvas id="agbCanvas_2020" class="agbCanvas" width="600" height="400"></canvas>
  </div>
</body>
<script src="scripts/dragService.js"></script>
<script src="scripts/canvasService.js"></script>
<script src="scripts/kmlReader.js"></script>
<script src="scripts/coordinates.js"></script>
<script src="scripts/cedaDataParser.js"></script>
<script src="scripts/cedaClient.js"></script>
<script src="main.js"></script>
</html>